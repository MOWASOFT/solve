<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nigeria Income Tax Calculator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f4;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
    }
    .container {
      background: white;
      margin-top: 40px;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.1);
      width: 90%;
      max-width: 600px;
    }
    h1 {
      text-align: center;
      color: #007119;
    }
    input {
      width: 100%;
      padding: 10px;
      font-size: 1rem;
      margin-bottom: 15px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    button {
      width: 100%;
      background: #007119;
      color: white;
      padding: 12px;
      border: none;
      border-radius: 6px;
      font-size: 1rem;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    button:hover {
      background: #005c0e;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    table, th, td {
      border: 1px solid #ccc;
    }
    th, td {
      padding: 8px;
      text-align: center;
    }
    th {
      background: #007119;
      color: white;
    }
    .total {
      font-weight: bold;
      font-size: 1.1rem;
      text-align: right;
      margin-top: 15px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Nigeria Tax Calculator</h1>
    <input type="number" id="income" placeholder="Enter your taxable income (₦)" />
    <button onclick="calculateTax()">Calculate Tax</button>

    <div id="results"></div>
  </div>

  <script>
      function calculateTax() {
    let income = parseFloat(document.getElementById("income").value);
    if (isNaN(income) || income <= 0) {
      document.getElementById("results").innerHTML = "<p style='color:red;'>Please enter a valid income amount.</p>";
      return;
    }

    const brackets = [
      { width: 800000, rate: 0 },
      { width: 2200000, rate: 0.15 },
      { width: 9000000, rate: 0.18 },
      { width: 13000000, rate: 0.21 },
      { width: 25000000, rate: 0.23 },
      { width: Infinity, rate: 0.25 }
    ];

    let remaining = income;
    let resultsHTML = `
      <table>
        <tr>
          <th>Bracket</th>
          <th>Taxable Amount (₦)</th>
          <th>Rate</th>
          <th>Tax (₦)</th>
        </tr>
    `;

    let totalTax = 0;
    let cumulative = 0;

    for (let i = 0; i < brackets.length; i++) {
      if (remaining <= 0) break;

      // How much income falls into this bracket
      let taxable = Math.min(remaining, brackets[i].width);
      let tax = taxable * brackets[i].rate;

      resultsHTML += `
        <tr>
          <td>${i === brackets.length - 1 
              ? "Above ₦50,000,000" 
              : `₦${(cumulative+1).toLocaleString()} - ₦${(cumulative+taxable).toLocaleString()}`}</td>
          <td>${taxable.toLocaleString()}</td>
          <td>${(brackets[i].rate * 100).toFixed(0)}%</td>
          <td>${tax.toLocaleString()}</td>
        </tr>
      `;

      totalTax += tax;
      remaining -= taxable;
      cumulative += taxable;
    }

    resultsHTML += `</table>`;
    resultsHTML += `<p class="total">Total Tax Payable: ₦${totalTax.toLocaleString()}</p>`;
    document.getElementById("results").innerHTML = resultsHTML;
  }
  </script>
</body>
</html>
